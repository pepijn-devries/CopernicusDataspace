<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Client Information and Access Token for the Data Space Store API — dse_access_token • CopernicusDataspace</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Client Information and Access Token for the Data Space Store API — dse_access_token"><meta name="description" content="To regulate server traffic, the Data Space Ecosystem uses user accounts to regulate
and ensure fair usage. These functions will get you a token and information about
your usage."><meta property="og:description" content="To regulate server traffic, the Data Space Ecosystem uses user accounts to regulate
and ensure fair usage. These functions will get you a token and information about
your usage."><meta property="og:image" content="https://pepijn-devries.github.io/CopernicusDataspace/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CopernicusDataspace</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pepijn-devries/CopernicusDataspace/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Client Information and Access Token for the Data Space Store API</h1>
      <small class="dont-index">Source: <a href="https://github.com/pepijn-devries/CopernicusDataspace/blob/main/R/login.R" class="external-link"><code>R/login.R</code></a></small>
      <div class="d-none name"><code>dse_access_token.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>To regulate server traffic, the Data Space Ecosystem uses user accounts to regulate
and ensure fair usage. These functions will get you a token and information about
your usage.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dse_access_token</span><span class="op">(</span></span>
<span>  client_id <span class="op">=</span> <span class="fu">dse_client_id</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  client_secret <span class="op">=</span> <span class="fu">dse_client_secret</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">dse_client_id</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">dse_client_id</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="fu">dse_client_secret</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">dse_client_secret</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="fu">dse_has_client_info</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-client-id">client_id<a class="anchor" aria-label="anchor" href="#arg-client-id"></a></dt>
<dd><p>ID of the client registered under your account.</p></dd>


<dt id="arg-client-secret">client_secret<a class="anchor" aria-label="anchor" href="#arg-client-secret"></a></dt>
<dd><p>Secret provided for the client registered under your account.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Ignored</p></dd>


<dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>Assignment value for setting <code>client_id</code> or <code>client_secret</code> as
environment variable. Once set, it will persist for the remainder of the
R session.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>In case of <code>dse_client_id()</code> and <code>dse_client_secret()</code>, you can get (or
set) client details as environment variables. This way, they will persist
throughout your R session.</p>
<p>The function <code>dse_has_client_info()</code> returns a <code>logical</code> value, indicating
whether client details (id and secret) are available as environmental variable.
Note that if this function returns <code>TRUE</code>, it doesn't guarantee that the details
are valid (just that they are available).</p>
<p>In case of <code>dse_access_token()</code> a named <code>list</code> is returned, containing the
access token (named <code>"token"</code>) and some additional meta information.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Before you can use most of the Data Space Ecosystem services, you need to create
an account and register as a client. This will let you retrieve an access token,
that can be used for authentication purposes in API requests. It is also used to
manage your usage and rate limiting (see also <code><a href="dse_usage.html">dse_usage()</a></code> and
<code><a href="dse_usage.html">dse_user_statistics()</a></code>).</p>
<p>Note that <a href="https://aws.amazon.com/s3/" class="external-link">Amazon Simple Storage Service (s3)</a>
has separate authentication requirements. See <code><a href="dse_s3.html">dse_s3()</a></code> for details.</p><div class="section">
<h3 id="creating-an-account">Creating an Account<a class="anchor" aria-label="anchor" href="#creating-an-account"></a></h3>


<p>First step is creating an account. You can create one by visiting the
<a href="https://identity.dataspace.copernicus.eu/auth/realms/CDSE/account/#/personal-info" class="external-link">login page</a>
and click "register". Fill out the form and follow the instructions.</p>
</div>

<div class="section">
<h3 id="registering-client">Registering Client<a class="anchor" aria-label="anchor" href="#registering-client"></a></h3>


<p>In order to register a client, visit the
<a href="https://shapps.dataspace.copernicus.eu/dashboard/" class="external-link">Sentinel Dashboard</a> and
go to "User settings". There you will have the option to create an OAuth client.
Follow the instructions, and make sure to safely copy the client id and secret.
The latter is only displayed once. More detailed instructions are provided by the
<a href="https://documentation.dataspace.copernicus.eu/APIs/SentinelHub/Overview/Authentication.html#registering-oauth-client" class="external-link">API documentation</a></p>
</div>

<div class="section">
<h3 id="client-details-as-environment-variables">Client Details as Environment Variables<a class="anchor" aria-label="anchor" href="#client-details-as-environment-variables"></a></h3>


<p>When you share R code, you probably don't want to share your account details.
You can avoid using your <code>client_id</code> and <code>client_secret</code> in your script by
setting them as environment variable. You can do this yourself manually by
calling <code>dse_client_id()&lt;-</code> and <code>dse_client_secret()&lt;-</code> at the start of each session.</p>
<p>You can also define them in your <code>.Rprofile</code> file with
<code>Sys.setenv(CDSE_API_CLIENTID = "&lt;your id&gt;")</code> and
<code>Sys.setenv(CDSE_API_CLIENTSECRET = "&lt;your secret&gt;")</code>. This way,
they are set each time you start a new R session.</p>
<p>The environment variables are used by default by <code>dse_access_token()</code>, so you
don't have to specify the client details as arguments.</p>
</div>

<div class="section">
<h3 id="obtain-token-and-validity">Obtain Token and Validity<a class="anchor" aria-label="anchor" href="#obtain-token-and-validity"></a></h3>


<p>After completing the previous two steps, your are now set to obtain an access
token with <code>dse_access_token()</code>.</p>
<p>Repeatedly requesting an access token may invoke rate limiting measures.
Therefore, this package uses caching to temporarily store the access token
during each R session. Calling <code>dse_access_token()</code> will therefore only
contact the server once for a token for each unique combination of <code>client_id</code>
and <code>client_server</code>. After that, the cached result will be reused during the session</p>
<p>There is a catch: the token provided by the server is only valid for a limited
time (usually 30 minutes). So, when the token has expired, you need to wipe the
cache. You can do so by calling <code>memoise::forget(dse_access_token)</code> or restarting
the R session.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p><a href="https://documentation.dataspace.copernicus.eu/APIs/SentinelHub/Overview/Authentication.html" class="external-link">https://documentation.dataspace.copernicus.eu/APIs/SentinelHub/Overview/Authentication.html</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="dse_usage.html">dse_usage()</a></code></p>
<p><code><a href="dse_usage.html">dse_user_statistics()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="fu">dse_has_client_info</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">token</span> <span class="op">&lt;-</span> <span class="fu">dse_access_token</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Pepijn de Vries, LVVN (Ministerie van Landbouw, Visserij, Voedselzekerheid en Natuur).</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

