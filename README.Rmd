---
output: github_document
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# CopernicusDataspace <img src="man/figures/logo.svg" align="right" height="139" alt="logo" />

<!-- badges: start -->
[![R-CMD-check](https://github.com/pepijn-devries/CopernicusDataspace/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/pepijn-devries/CopernicusDataspace/actions/workflows/R-CMD-check.yaml)
[![version](https://www.r-pkg.org/badges/version/CopernicusDataspace)](https://CRAN.R-project.org/package=CopernicusDataspace)
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental)
[![Codecov test coverage](https://codecov.io/gh/pepijn-devries/CopernicusDataspace/graph/badge.svg)](https://app.codecov.io/gh/pepijn-devries/CopernicusDataspace)
<!-- badges: end -->

The [Copernicus Data Space Ecosystem](https://dataspace.copernicus.eu/),
is an open ecosystem that provides free instant access to a wide range
of data and services from the Copernicus Sentinel missions and
more on our planetâ€™s land, oceans and atmosphere. This package
provides entry points to several APIs allowing users to access
the data directly in R.

## Installation

Install latest developmental version from R-Universe:

```{r install2, eval=FALSE}
install.packages("CopernicusDataspace", repos = c('https://pepijn-devries.r-universe.dev', 'https://cloud.r-project.org'))
```

## Downloading Using STAC Catalogue

TODO

```{r download-stac, eval=TRUE, message=FALSE, fig.alt="Example of downloading with STAC API"}
library(CopernicusDataspace)
library(stars) ## For reading and plotting the downloaded file

## Only run this if an S3 secret is specified
if (dse_has_s3_secret()) {
  
  id    <- "Copernicus_DSM_COG_30_S69_00_W062_00_DEM"
  asset <- "data"

  filename <- dse_stac_download(id, asset, tempdir())
  tile <- read_stars(filename)
  plot(tile, col = hcl.colors(100), axes = TRUE)
  
}
```

## More of Copernicus

More R packages for exploring other Copernicus data services:

 * [CopernicusClimate](https://github.com/pepijn-devries/CopernicusClimate)
 Dedicated to climate change datasets
 * [CopernicusMarine](https://github.com/pepijn-devries/CopernicusMarine)
 Dedicated to marine datasets

## Code of Conduct

Please note that the CopernicusDataspace project is released with a
[Contributor Code of Conduct](https://contributor-covenant.org/version/2/1/CODE_OF_CONDUCT.html).
By contributing to this project, you agree to abide by its terms.
